# Sharding with Redis Cluster
# PC-1 (192.168.122.10) : PRIMARY MASTER (Slots: 0-5460)
# PC-2 (192.168.122.20) : REPLICA

# Network
bind 0.0.0.0
protected-mode no
port 6379

# TCP Settings
tcp-backlog 511
timeout 0
tcp-keepalive 300

# Database & Persistence
databases 16
appendonly no

# Logging & Working Directory
loglevel notice
logfile /var/log/redis/redis-server.log
dir /var/lib/redis

# Memory
maxmemory-policy noeviction

# Background process
daemonize yes
pidfile /run/redis/redis-server.pid

# CLUSTER
cluster-enabled yes
cluster-config-file nodes.conf
cluster-node-timeout 15000

